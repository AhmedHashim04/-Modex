{% load i18n %}

{% load socialaccount %}
{% get_current_language as LANGUAGE_CODE %}
<!-- A. Top navigation bar -->
<div class="modex-manage-nav modex-manage-nav-custom d-flex align-items-center justify-content-between px-2 px-md-3 py-1 flex-wrap"
     {% if LANGUAGE_CODE == "ar" %}dir="rtl"{% endif %}>
    <div class="d-flex align-items-center gap-2 gap-md-3 flex-wrap"
         {% if LANGUAGE_CODE == "ar" %}style="flex-direction: row-reverse;"{% endif %}>
        <!-- Account -->
        {% if request.user.is_authenticated %}
        <a href="{% url 'accounts:profile' %}" class="manage-nav-link d-flex align-items-center"
           {% if LANGUAGE_CODE == "ar" %}style="flex-direction: row-reverse;"{% endif %}>
            {% if LANGUAGE_CODE == "ar" %}
                <span class="d-none d-sm-inline">
                    {{ request.user.username }}
                </span>
                <i class="fas fa-user-circle ms-1"></i>
            {% else %}
                <i class="fas fa-user-circle me-1"></i>
                <span class="d-none d-sm-inline">
                    {{ request.user.username }}
                </span>
            {% endif %}
        </a>
        <!-- Wishlist -->
        <a href="{% url 'accounts:wishlist' %}" class="manage-nav-link d-flex align-items-center"
           {% if LANGUAGE_CODE == "ar" %}style="flex-direction: row-reverse;"{% endif %}>
            {% if LANGUAGE_CODE == "ar" %}
                <span class="d-none d-sm-inline">
                    المفضلة
                </span>
                <i class="fas fa-heart ms-1"></i>
            {% else %}
                <i class="fas fa-heart me-1"></i>
                <span class="d-none d-sm-inline">
                    Wishlist
                </span>
            {% endif %}
            {% comment %} <span class="badge bg-danger ms-1" id="wishlist-count" >{{ wishlist|length }}</span> {% endcomment %}
        </a>
        <a href="{% url 'order:order_list' %}" class="manage-nav-link d-flex align-items-center"
           {% if LANGUAGE_CODE == "ar" %}style="flex-direction: row-reverse;"{% endif %}>
            {% if LANGUAGE_CODE == "ar" %}
                <span class="d-none d-sm-inline">
                    قائمة الطلبات
                </span>
                <i class="fas fa-receipt ms-1"></i>
            {% else %}
                <i class="fas fa-receipt me-1"></i>
                <span class="d-none d-sm-inline">
                    Orders
                </span>
            {% endif %}
        </a>

        {% else %}
        <div class="d-flex align-items-center gap-2"
             {% if LANGUAGE_CODE == "ar" %}style="flex-direction: row-reverse;"{% endif %}>
            <a href="{% provider_login_url 'google' %}" class="manage-nav-link d-flex align-items-center" style="color: #4285F4;"
               {% if LANGUAGE_CODE == "ar" %}style="flex-direction: row-reverse; color: #4285F4;"{% endif %}>
                {% if LANGUAGE_CODE == "ar" %}
                <i class="fab fa-google ms-1"></i>
                    <span class="d-none d-sm-inline">
                        تسجيل الدخول عبر جوجل
                    </span>
                {% else %}
                    <i class="fab fa-google me-1"></i>
                    <span class="d-none d-sm-inline">
                        Login with Google
                    </span>
                {% endif %}
            </a>
        </div>
        {% endif %}
        <a href="{% url 'product:product_list' %}" class="manage-nav-link d-flex align-items-center"
           {% if LANGUAGE_CODE == "ar" %}style="flex-direction: row-reverse;"{% endif %}>
            {% if LANGUAGE_CODE == "ar" %}
                <span class="d-none d-sm-inline">
                    المتجر
                </span>
                <i class="fas fa-store ms-1"></i>
            {% else %}
                <i class="fas fa-store me-1"></i>
                <span class="d-none d-sm-inline">
                    Shop
                </span>
            {% endif %}
        </a>

        <!-- Cart -->
        <a href="{% url 'cart:cart_list' %}" id="cart-nav-link" class="manage-nav-link d-flex align-items-center position-relative cart-advanced-link" id="cart-link"
                {% if LANGUAGE_CODE == "ar" %}style="flex-direction: row-reverse;"{% endif %}>
                {% if LANGUAGE_CODE == "ar" %}
                    <span class="d-none d-sm-inline fw-semibold">
                        السلة
                        <span class="badge bg-warning text-dark rounded-pill ms-1 fs-6 fw-semibold cart-counter">
                            {{ request.cart.total_quantity|default:"Modex" }}
                        </span>                   


                    </span>
                    <i class="fas fa-shopping-cart ms-1 fs-5"></i>
                {% else %}
                {% comment %} <span class=" bg-warning text-dark rounded-pill ms-1 fs-6 fw-semibold ">
                    {{ total_cart_price|floatformat:"2" }}
                </span> {% endcomment %}
                    <i class="fas fa-shopping-cart me-1 fs-5"></i>
                    <span class="d-none d-sm-inline fw-semibold">
                        Cart
                        <span class="badge bg-warning text-dark rounded-pill ms-1 fs-6 fw-semibold cart-counter">
                            {% if LANGUAGE_CODE == "ar" %}
                                {{ request.cart.total_quantity|default:"Modex" }}
                            {% else %}
                                {{ request.cart.total_quantity|default:"Modex" }}
                            {% endif %}
                        </span>
                    </span>
            {% endif %}
        </a>
    </div>
</div>
