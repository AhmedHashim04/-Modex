{% load static %}
{% load i18n %}

    <section class="py-5 top-picks-section" id="top-picks">
        <div class="container-fluid px-0">
            <h2 class="mb-4 text-center fw-bold top-picks-title">
                <span class="top-picks-title-gradient">{% trans "Discover Top Picks for You" %}</span>
            </h2>
            <div class="position-relative">
                <!-- Left Arrow -->
                <button id="top-picks-scroll-left" class="top-picks-arrow left btn shadow position-absolute top-50 start-0 translate-middle-y z-2"
                    aria-label="Scroll left">
                    <i class="fas fa-circle-chevron-left"></i>
                </button>
                <button id="top-picks-scroll-right" class="top-picks-arrow right btn shadow position-absolute top-50 end-0 translate-middle-y z-2"
                    aria-label="Scroll right">
                    <i class="fas fa-circle-chevron-right"></i>
                </button>
                <div class="row gx-3 gy-4 flex-nowrap overflow-auto top-picks-row">
                    <div class="col-12">
                        <div id="top-picks-scroll-row" class="d-flex flex-row flex-nowrap justify-content-start align-items-stretch top-picks-scroll-row">
                            {% for product in data.randomProducts %}
                                <div class="product-showcase-card border-0 shadow-lg bg-light">
                                    <a href="{{ product.get_absolute_url }}">
                                        {% if product.main_image %}
                                            <img src="{{ product.main_image.url }}" class="w-100 d-block product-img" alt="{{ product.name }}">
                                        {% else %}
                                            <img src="{% static 'images/placeholder_product.png' %}" class="w-100 d-block product-img" alt="{{ product.name }}">
                                        {% endif %}
                                    </a>
                                    <div class="p-3">
                                        <h6 class="mb-1 fw-bold product-title">
                                            <a href="{{ product.get_absolute_url }}" class="text-decoration-none text-dark">
                                                {{ product.name|truncatechars:32 }}
                                            </a>
                                        </h6>
                                        <p class="mb-0 fw-bold product-price text-primary">
                                            {% if product.discount_price %}
                                                <span class="text-decoration-line-through text-muted me-1">${{ product.price }}</span>
                                                ${{ product.discount_price }}
                                            {% else %}
                                                ${{ product.price }}
                                            {% endif %}
                                        </p>
                                    </div>
                                </div>
                            {% empty %}
                                <div class="text-center w-100 py-5">
                                    <p class="text-muted">{% trans "No products available at the moment." %}</p>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
