
{% extends 'base/base.html' %}
{% load static %}
{% load widget_tweaks %}
{% load i18n %}


{% block content %}

<!-- Main Banners Section - New Modern Style -->
{% include "home/partials/main-banner.html" %}
<hr>

<!-- Categories Section -->
 
{% include "home/partials/main-categories.html" %}
<hr>

<!-- Featured Products Section -->
{% include "home/partials/features.products.html" %}
<hr>

<!-- Sub Categories Section -->
{% if sub_categories_section.products %}
    <div class="section-header">
        <h2 class="section-title">{% trans 'Explore Our Subcategories' %}</h2>
        <p class="section-subtitle">{% trans 'Find a diverse selection of toys and gifts for every age and occasion' %}</p>
    </div>
    {% include "home/partials/sub-categories.html" with subCategories=sub_categories_section.products %}
{% endif %}
<hr>

<!-- New Arrivals Section -->
{% include "home/partials/new-arrivals.html" %}

<hr>

<!-- Top Rated Section -->
{% if top_rated_section.products %}
<section class="section" style="width: 100vw; max-width: 100vw; margin: 0; padding: 0;">
    <div class="section-header">
        <h2 class="section-title">{{ top_rated_section.title }}</h2>
        <p class="section-subtitle">{% trans 'Our customers top rated products' %}</p>
    </div>

    <div id="productsContainer" class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-5 row-cols-xl-7 g-4">
        {% for product in new_products_section.products %}
                <div class="col">
                    <div class="card h-100 shadow-sm border-0 glass-card product-card hover-effect">
                            {% include "product/partials/product_card.html" %}
                    </div>
                </div>

        {% endfor %}
    </div>


</section>
{% endif %}
<hr>

<!-- Hot Deals Section -->
{% if discounts_section.products %}
<section class="section" style="width: 100vw; max-width: 100vw; margin: 0; padding: 0;">
    
    <div class="section-header">
        <h2 class="section-title">{{ discounts_section.title }}</h2>
        <p class="section-subtitle">{% trans 'Take advantage of the best deals and special offers' %}</p>
    </div>

    <div id="productsContainer" class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-5 row-cols-xl-7 g-4">
        {% for product in discounts_section.products %}
        <div class="col">
            <div class="card h-100 shadow-sm border-0 glass-card product-card hover-effect">
            {% include "product/partials/product_card.html" %}
        </div>
    </div>

        {% endfor %}
    </div>

</section>
{% endif %}
<hr>
{% comment %} <!-- Collections Section -->
{% if collections_section.collections %}
<section class="section" style="width: 100vw; max-width: 100vw; margin: 0; padding: 0;">
    <div class="section-header">
        <h2 class="section-title">{{ collections_section.title }}</h2>
        <p class="section-subtitle">{% trans 'Discover our carefully selected special collections' %}</p>
    </div>
    <div class="collections-grid">
        {% for collection in collections_section.collections %}
            <div class="collection-card">
                <div class="collection-image" style="background-image: url('{{ collection.image.url }}')"></div>
                <div class="collection-overlay">
                    <h3 class="collection-title">{{ collection.name }}</h3>
                    <div class="collection-count">
                        <i class="fas fa-box"></i>
                        <span>{{ collection.product_count }} {% trans 'Products' %}</span>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</section>
{% endif %}
<hr> {% endcomment %}

{% include "home/partials/features.html" %}
{% comment %} {% include "home/partials/newsettler.html" %} {% endcomment %}



<script>
    // Simple animations and interactions
    document.addEventListener('DOMContentLoaded', function() {
        // Add animation to featured products
        const productCards = document.querySelectorAll('.product-card');
        productCards.forEach(card => {
            card.addEventListener('mouseenter', () => {
                card.classList.add('pulse');
            });
            
            card.addEventListener('mouseleave', () => {
                card.classList.remove('pulse');
            });
        });
        
        // Add to cart functionality
        const addToCartButtons = document.querySelectorAll('.btn-add-to-cart');
        const cartCount = document.querySelector('.cart-count');
        let count = 3;
        
        addToCartButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                count++;
                cartCount.textContent = count;
                
                // Animation effect
                this.innerHTML = '<i class="fas fa-check"></i> Added to Cart';
                this.style.background = 'hsl(var(--accent-color))';
                
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-shopping-cart"></i> Add to Cart';
                    this.style.background = '';
                }, 2000);
            });
        });
        
        // Newsletter form submission
        const newsletterForm = document.querySelector('.newsletter-form');
        if(newsletterForm) {
            newsletterForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const input = this.querySelector('input');
                if(input.value) {
                    this.innerHTML = '<p style="color:white;font-size:1.2rem;">Thank you for subscribing! You will receive the latest offers soon.</p>';
                }
            });
        }
    });
</script>

<script>
    // Banner Carousel Functionality
    document.addEventListener('DOMContentLoaded', function() {
        const carousel = document.querySelector('.banners-horizontal-scroll');
        const prevBtn = document.querySelector('.banner-prev');
        const nextBtn = document.querySelector('.banner-next');
        const indicators = document.querySelectorAll('.banner-indicator');
        const bannerCards = document.querySelectorAll('.banner-card-new');
        
        let currentIndex = 0;
        const cardWidth = 380 + 16; // 380px width + 16px gap
        
        // Initialize first indicator as active
        if (indicators.length > 0) {
            indicators[0].classList.add('active');
        }
        
        // Navigation functions
        function goToSlide(index) {
            if (index < 0) index = indicators.length - 1;
            if (index >= indicators.length) index = 0;
            
            carousel.scrollTo({
                left: index * cardWidth,
                behavior: 'smooth'
            });
            
            currentIndex = index;
            updateIndicators();
        }
        
        function updateIndicators() {
            indicators.forEach((indicator, i) => {
                indicator.classList.toggle('active', i === currentIndex);
            });
        }
        
        // Event Listeners
        prevBtn.addEventListener('click', () => goToSlide(currentIndex - 1));
        nextBtn.addEventListener('click', () => goToSlide(currentIndex + 1));
        
        indicators.forEach((indicator, i) => {
            indicator.addEventListener('click', () => goToSlide(i));
        });
        
        // Auto-scroll functionality
        let autoScrollInterval;
        
        function startAutoScroll() {
            autoScrollInterval = setInterval(() => {
                goToSlide(currentIndex + 1);
            }, 5000);
        }
        
        function stopAutoScroll() {
            clearInterval(autoScrollInterval);
        }
        
        // Start auto-scroll
        startAutoScroll();
        
        // Pause auto-scroll when hovering
        carousel.addEventListener('mouseenter', stopAutoScroll);
        carousel.addEventListener('mouseleave', startAutoScroll);
        
        // Add hover effects to cards
        bannerCards.forEach(card => {
            card.addEventListener('mouseenter', () => {
                card.classList.add('hover');
            });
            
            card.addEventListener('mouseleave', () => {
                card.classList.remove('hover');
            });
        });
        
        // Scroll snapping detection
        carousel.addEventListener('scroll', () => {
            const scrollPos = carousel.scrollLeft;
            const newIndex = Math.round(scrollPos / cardWidth);
            
            if (newIndex !== currentIndex) {
                currentIndex = newIndex;
                updateIndicators();
            }
        });
    });
</script>


{% endblock %}
